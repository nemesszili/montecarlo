function S = magnets(dim, p)
  S = sign(p - rand(dim));
end